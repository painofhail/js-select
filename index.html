<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Select</title>
		<link href='https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons' rel="stylesheet">
		<link rel="stylesheet" href="style.css">
	</head>

	<body>
		<div class="wrap">
			<div class="settings">
				<h2>Действия</h2>
				<ul id="actions">
					<li><button data-type="open" onclick="select.show()">Открыть</button></li>
					<li><button data-type="close" onclick="select.hide()">Закрыть</button></li>
				</ul>
				<p id="log"></p>
			</div>

			<div id="select" data-select="select"></div>

		</div>

		<script src="index.js"></script>
		<script>
			const select = new Select({
				selector: '#select',
				label: 'Выберите из списка',
				url: 'https://jsonplaceholder.typicode.com/todos',
				onSelect(selectedItem) {
					console.log(`Выбран элемент с названием '${selectedItem}'`)
				}
			})

			document.querySelector('#select').addEventListener('select.change', (e) => {
				const selectedItem = e.target.querySelector('.select__item_selected').textContent;
				console.log(`Выбранное значение: ${selectedItem}`);
			});
		</script>
	</body>
</html>
